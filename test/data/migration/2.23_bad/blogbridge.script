CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
CREATE CACHED TABLE APP_PROPERTIES(NAME VARCHAR(100) NOT NULL, VALUE VARCHAR(255), CONSTRAINT SYS_CT_1 UNIQUE(NAME));
CREATE CACHED TABLE GUIDES(ID INTEGER NOT NULL IDENTITY PRIMARY KEY, TITLE VARCHAR(255) NOT NULL, ICONKEY VARCHAR(50), TYPE INTEGER DEFAULT '0' NOT NULL, POS INTEGER NOT NULL, AUTOFEEDSDISCOVERY BIT, PUBLISHINGENABLED BIT DEFAULT '0', PUBLISHINGTITLE VARCHAR(255), PUBLISHINGTAGS VARCHAR(50), PUBLISHINGPUBLIC BIT DEFAULT '0', PUBLISHINGURL VARCHAR(255), LASTPUBLISHINGTIME BIGINT DEFAULT '-1' NOT NULL, PUBLISHINGRATING INTEGER DEFAULT '0' NOT NULL, LASTUPDATETIME BIGINT DEFAULT '-1' NOT NULL, NOTIFICATIONSALLOWED BIT DEFAULT '1' NOT NULL);
CREATE CACHED TABLE READINGLISTS(ID INTEGER NOT NULL IDENTITY PRIMARY KEY, TITLE VARCHAR(255), URL VARCHAR(255) NOT NULL, LASTPOLLTIME BIGINT DEFAULT '0' NOT NULL, LASTUPDATESERVERTIME BIGINT DEFAULT '-1' NOT NULL, LASTSYNCTIME BIGINT DEFAULT '-1' NOT NULL, GUIDEID INTEGER NOT NULL, CONSTRAINT FKREADINGLISTSTOGUIDES FOREIGN KEY(GUIDEID) REFERENCES GUIDES(ID) ON DELETE CASCADE);
CREATE CACHED TABLE FEEDS(ID INTEGER NOT NULL IDENTITY PRIMARY KEY, INVALIDNESSREASON VARCHAR(255), TYPE INTEGER DEFAULT '0' NOT NULL, FEEDTYPE INTEGER NOT NULL);
CREATE CACHED TABLE FEEDSPROPERTIES(FEEDID INTEGER NOT NULL PRIMARY KEY, LASTVISITTIME BIGINT DEFAULT '-1', CUSTOMVIEWMODEENABLED BIT DEFAULT '0' NOT NULL, CUSTOMVIEWMODE INTEGER DEFAULT '-1' NOT NULL, LASTUPDATETIME BIGINT DEFAULT '-1' NOT NULL, VIEWS INTEGER DEFAULT '0' NOT NULL, CLICKTHROUGHS INTEGER DEFAULT '0' NOT NULL, CONSTRAINT FK_FEEDPROPERTIES_FEEDS FOREIGN KEY(FEEDID) REFERENCES FEEDS(ID) ON DELETE CASCADE, CONSTRAINT UN_FEEDPROPERTIES UNIQUE(FEEDID));
CREATE CACHED TABLE DATAFEEDS(FEEDID INTEGER NOT NULL PRIMARY KEY, RATING INTEGER DEFAULT '-1' NOT NULL, UPDATEPERIOD BIGINT, MARKREADWHENNOKEYWORDS BIT, INITTIME BIGINT DEFAULT '-1' NOT NULL, LASTPOLLTIME BIGINT DEFAULT '0' NOT NULL, LASTUPDATESERVERTIME BIGINT DEFAULT '-1' NOT NULL, RETRIEVALS INTEGER DEFAULT '0' NOT NULL, FORMAT VARCHAR(25), LANGUAGE VARCHAR(25), PURGELIMIT INTEGER, LASTFETCHARTICLEKEYS VARCHAR(255), TOTALPOLLEDARTICLES INTEGER DEFAULT '0' NOT NULL, CONSTRAINT FKDATAFEEDSTOFEEDS FOREIGN KEY(FEEDID) REFERENCES FEEDS(ID) ON DELETE CASCADE, CONSTRAINT SYS_CT_3 UNIQUE(FEEDID));
CREATE CACHED TABLE QUERYFEEDS(FEEDID INTEGER NOT NULL PRIMARY KEY, QUERYTYPE INTEGER NOT NULL, TITLE VARCHAR(250) NOT NULL, KEYWORDS VARCHAR(250) NOT NULL, CONSTRAINT FK_QUERYFEEDS_DATAFEEDS FOREIGN KEY(FEEDID) REFERENCES FEEDS(ID) ON DELETE CASCADE, CONSTRAINT UN_QUERYFEEDS UNIQUE(FEEDID));
CREATE CACHED TABLE DIRECTFEEDS(FEEDID INTEGER NOT NULL PRIMARY KEY, USERTAGS VARCHAR(100), TAGSDESCRIPTION VARCHAR(100), TAGSEXTENDED VARCHAR(100), UNSAVEDUSERTAGS BIT, TITLE VARCHAR(250), AUTHOR VARCHAR(100), DESCRIPTION VARCHAR(250), CUSTOMTITLE VARCHAR(250), CUSTOMAUTHOR VARCHAR(100), CUSTOMDESCRIPTION VARCHAR(250), INLINKS INTEGER DEFAULT '-1' NOT NULL, DEAD BIT, SITEURL VARCHAR(255), XMLURL VARCHAR(255), LASTMETADATAUPDATETIME BIGINT DEFAULT '-1' NOT NULL, DISABLED BIT DEFAULT '0' NOT NULL, CONSTRAINT FKDIRECTFEEDSTODATAFEEDDS FOREIGN KEY(FEEDID) REFERENCES FEEDS(ID) ON DELETE CASCADE, CONSTRAINT SYS_CT_7 UNIQUE(FEEDID));
CREATE CACHED TABLE SEARCHFEEDS(FEEDID INTEGER NOT NULL PRIMARY KEY, TITLE VARCHAR(250) NOT NULL, QUERY VARCHAR(250) NOT NULL, RATING INTEGER DEFAULT '-1' NOT NULL, ARTICLESLIMIT INTEGER, CONSTRAINT FK_SEARCHFEEDS_FEEDS FOREIGN KEY(FEEDID) REFERENCES FEEDS(ID) ON DELETE CASCADE, CONSTRAINT UN_SEARCHFEEDS UNIQUE(FEEDID));
CREATE CACHED TABLE ARTICLES(ID INTEGER NOT NULL IDENTITY PRIMARY KEY, AUTHOR VARCHAR(100), TEXT VARCHAR(255), PUBLICATIONDATE BIGINT, TITLE VARCHAR(250), SUBJECT VARCHAR(250), READ BIT, LINK VARCHAR(255), PINNED BIT DEFAULT '0' NOT NULL, FEEDID INTEGER NOT NULL, CONSTRAINT FKARTICLESTODIRECTFEEDS FOREIGN KEY(FEEDID) REFERENCES FEEDS(ID) ON DELETE CASCADE);
CREATE CACHED TABLE PASSWORDS(CONTEXT VARCHAR(255) NOT NULL, USERNAME VARCHAR(255) NOT NULL, PASSWORD VARCHAR(255) NOT NULL, CONSTRAINT CONTEXT UNIQUE(CONTEXT));
CREATE CACHED TABLE FEEDS2GUIDES(GUIDEID INTEGER NOT NULL, FEEDID INTEGER NOT NULL, POSITN INTEGER DEFAULT '0' NOT NULL, LASTSYNCTIME BIGINT DEFAULT '-1', CONSTRAINT FK_F2G_GUIDE FOREIGN KEY(GUIDEID) REFERENCES GUIDES(ID) ON DELETE CASCADE, CONSTRAINT FK_F2G_FEED FOREIGN KEY(FEEDID) REFERENCES FEEDS(ID));
CREATE CACHED TABLE FEEDS2READINGLISTS(READINGLISTID INTEGER NOT NULL, FEEDID INTEGER NOT NULL, POSITN INTEGER DEFAULT '0' NOT NULL, CONSTRAINT FK_F2RL_READINGLiST FOREIGN KEY(READINGLISTID) REFERENCES READINGLISTS(ID) ON DELETE CASCADE, CONSTRAINT FK_F2RL_FEED FOREIGN KEY(FEEDID) REFERENCES FEEDS(ID));
CREATE CACHED TABLE DELETEDFEEDS(GUIDEID INTEGER NOT NULL, FEEDKEY VARCHAR(250) NOT NULL, CONSTRAINT FK_DELETEDFEEDS_GUIDE FOREIGN KEY(GUIDEID) REFERENCES GUIDES(ID) ON DELETE CASCADE); 
INSERT INTO APP_PROPERTIES VALUES ('schemaVersion', '0')
